{{ $name := .Get 0 }}
{{ $imageCdn := $.Site.Params.imageCDN }}
{{ $pageSection := path.Dir $.Page.File.Path }}
{{ $ext := path.Ext $name }}
{{ $basename := strings.TrimSuffix $ext $name }}

{{ $cdnBase := printf "%s/%s" (strings.TrimRight "/" $imageCdn) $pageSection }}
{{ $img2x := printf "%s/%s%s" $cdnBase $basename $ext }}

<img src="{{ $img2x }}"
     alt="{{ $basename }}"
     class="image-centered"
     loading="lazy"/>
